# Todo App 機能テスト手順書

## テスト環境
- **開発サーバー**: http://localhost:3000
- **ブラウザ**: Chrome, Firefox, Safari推奨
- **必要な機能**: Local Storage有効

## 事前確認

### ✓ ビルド確認
```bash
npm run build
# → ✓ Compiled successfully が表示されること
```

### ✓ 開発サーバー起動確認
```bash
npm run dev
# → http://localhost:3000 でアクセス可能
```

---

## テストケース

### 1. 初期表示テスト

**手順:**
1. ブラウザで http://localhost:3000 にアクセス
2. ページが正常に表示されることを確認

**期待結果:**
- ✓ "Todo List" ヘッダーが表示される
- ✓ 入力欄と「追加」ボタンが表示される
- ✓ フィルターボタン（全て/未完了/完了済み）が表示される
- ✓ "Todoがありません" メッセージが表示される
- ✓ フィルターボタンに件数が表示される（全て(0) 未完了(0) 完了済み(0)）

---

### 2. Todo追加機能テスト

#### 2-1. 通常のTodo追加
**手順:**
1. 入力欄に「買い物に行く」と入力
2. 「追加」ボタンをクリック

**期待結果:**
- ✓ Todoリストに「買い物に行く」が追加される
- ✓ チェックボックスが未チェック状態
- ✓ 入力欄がクリアされる
- ✓ フィルターの件数が更新される（全て(1) 未完了(1) 完了済み(0)）

#### 2-2. Enterキーでの追加
**手順:**
1. 入力欄に「メールを送る」と入力
2. Enterキーを押す

**期待結果:**
- ✓ Todoリストに「メールを送る」が追加される
- ✓ 入力欄がクリアされる

#### 2-3. 複数のTodo追加
**手順:**
1. 以下のTodoを順番に追加
   - 「資料を作成する」
   - 「会議の準備」
   - 「報告書を提出」

**期待結果:**
- ✓ すべてのTodoがリストに表示される
- ✓ フィルターの件数が正しい（全て(5) 未完了(5) 完了済み(0)）

#### 2-4. バリデーションテスト
**手順:**
1. 入力欄を空のまま「追加」ボタンをクリック

**期待結果:**
- ✓ アラート「Todoのタイトルを入力してください」が表示される
- ✓ Todoは追加されない

**手順:**
2. スペースのみを入力して「追加」ボタンをクリック

**期待結果:**
- ✓ アラート「Todoのタイトルを入力してください」が表示される
- ✓ Todoは追加されない

---

### 3. Todo完了機能テスト

**手順:**
1. 「買い物に行く」のチェックボックスをクリック

**期待結果:**
- ✓ チェックボックスがチェック状態になる
- ✓ テキストに打ち消し線が表示される
- ✓ テキストがグレーアウトする
- ✓ フィルターの件数が更新される（全て(5) 未完了(4) 完了済み(1)）

**手順:**
2. もう一度チェックボックスをクリック

**期待結果:**
- ✓ チェックボックスが未チェック状態に戻る
- ✓ 打ち消し線とグレーアウトが解除される
- ✓ フィルターの件数が更新される（全て(5) 未完了(5) 完了済み(0)）

---

### 4. フィルタリング機能テスト

#### 4-1. 事前準備
**手順:**
1. 「買い物に行く」を完了状態にする
2. 「メールを送る」を完了状態にする

**期待結果:**
- ✓ フィルターの件数: 全て(5) 未完了(3) 完了済み(2)

#### 4-2. 未完了フィルター
**手順:**
1. 「未完了」ボタンをクリック

**期待結果:**
- ✓ 未完了のTodoのみ表示される（3件）
- ✓ 完了済みのTodoは表示されない
- ✓ 「未完了」ボタンがハイライト表示される

#### 4-3. 完了済みフィルター
**手順:**
1. 「完了済み」ボタンをクリック

**期待結果:**
- ✓ 完了済みのTodoのみ表示される（2件）
- ✓ 未完了のTodoは表示されない
- ✓ 「完了済み」ボタンがハイライト表示される

#### 4-4. 全てフィルター
**手順:**
1. 「全て」ボタンをクリック

**期待結果:**
- ✓ すべてのTodoが表示される（5件）
- ✓ 「全て」ボタンがハイライト表示される

---

### 5. Todo削除機能テスト

**手順:**
1. 「買い物に行く」の「削除」ボタンをクリック
2. 確認ダイアログで「OK」をクリック

**期待結果:**
- ✓ 確認ダイアログが表示される（「買い物に行く」を削除しますか？）
- ✓ Todoがリストから削除される
- ✓ フィルターの件数が更新される

**手順:**
3. 別のTodoの「削除」ボタンをクリック
4. 確認ダイアログで「キャンセル」をクリック

**期待結果:**
- ✓ Todoは削除されない
- ✓ リストに残っている

---

### 6. Local Storage永続化テスト

**手順:**
1. いくつかTodoを追加・完了・削除する
2. ブラウザの開発者ツールを開く（F12）
3. Application → Local Storage → http://localhost:3000 を確認
4. `todos` キーが存在することを確認

**期待結果:**
- ✓ `todos` キーにJSON形式でデータが保存されている
- ✓ データ構造が正しい（id, title, completed等）

**手順:**
5. ページをリロード（F5）

**期待結果:**
- ✓ リロード前と同じTodoが表示される
- ✓ 完了状態も保持されている
- ✓ フィルター状態はリセットされる（「全て」が選択状態）

---

### 7. エッジケーステスト

#### 7-1. 長いタイトル
**手順:**
1. 100文字以上のテキストを入力しようとする

**期待結果:**
- ✓ 入力欄が100文字で制限される（maxLength属性）

#### 7-2. 全件削除
**手順:**
1. すべてのTodoを削除する

**期待結果:**
- ✓ 「Todoがありません」メッセージが表示される
- ✓ フィルターの件数がすべて0になる

#### 7-3. 大量のTodo
**手順:**
1. 20件以上のTodoを追加する

**期待結果:**
- ✓ スクロールして全件表示できる
- ✓ パフォーマンス問題がない
- ✓ フィルタリングが正常に動作する

---

### 8. ブラウザ互換性テスト

**手順:**
1. Chrome, Firefox, Safariでアクセス
2. 基本機能を確認

**期待結果:**
- ✓ すべてのブラウザで正常に動作する
- ✓ スタイルが崩れない
- ✓ Local Storageが正常に動作する

---

### 9. レスポンシブテスト

**手順:**
1. ブラウザウィンドウを縮小する
2. モバイルサイズ（375px幅）で確認

**期待結果:**
- ✓ レイアウトが適切に調整される
- ✓ ボタンやテキストが読める
- ✓ 操作可能である

---

## 自動テストスクリプト

ブラウザの開発者コンソールで以下のファイルを実行:

```bash
# プロジェクトルートのtest-storage.jsの内容をコピーしてコンソールに貼り付け
```

---

## テスト結果チェックリスト

### 基本機能
- [ ] Todo追加
- [ ] Todo完了/未完了切り替え
- [ ] Todo削除
- [ ] フィルタリング（全て/未完了/完了済み）

### データ永続化
- [ ] Local Storage保存
- [ ] ページリロード後のデータ復元

### UI/UX
- [ ] エラーメッセージ表示
- [ ] 確認ダイアログ表示
- [ ] ボタンのホバーエフェクト
- [ ] アクティブフィルターのハイライト

### バリデーション
- [ ] 空文字列の拒否
- [ ] 文字数制限（100文字）

### エッジケース
- [ ] 空リストの表示
- [ ] 全件削除後の動作
- [ ] 大量データの動作

---

## 不具合報告テンプレート

不具合を発見した場合は以下の形式で報告してください:

```
【不具合タイトル】
簡潔に不具合内容を記載

【再現手順】
1. xxxする
2. yyyする
3. zzzする

【期待結果】
xxxが表示されるべき

【実際の結果】
yyyが表示された

【環境】
- ブラウザ: Chrome 120.0.0
- OS: macOS 14.0
- 画面サイズ: 1920x1080

【スクリーンショット】
（あれば添付）
```

---

## テスト完了基準

すべてのチェックリストが完了し、以下の条件を満たすこと:
- ✓ 致命的なバグが存在しない
- ✓ すべての基本機能が動作する
- ✓ データの永続化が正常に機能する
- ✓ 主要ブラウザで動作する
